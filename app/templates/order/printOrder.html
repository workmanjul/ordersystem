{% extends './base_print.html' %} {% block title %}View Order {% endblock title %} {% block body %}

<div class="w-full border-0 flex-col p-2">
	<div class="col-5">
		<img class="pull-left" src="{{ image_path }}" alt="Image" width="245" height="105" />
	</div>
	<div class="h-[50px] text-gray-900">
		<h1 class="text-xl font-bold text-gray-700 px-4 py-4">Order for: {{customer.first_name}} {{customer.last_name}}</h1>
	</div>

	<!--for making order-->

	<div class="flex flex-shrink-0 mt-4 bg-white md:w-[80%] relative border-b-2 text-gray-900 rounded-lg">
		<form action="#" method="">
			<div class="">
				<table class="table-auto border rounded border-gray-200 w-full my-2 mx-auto" id="order_table">
					<thead>
						<tr>
							<th class="w-1 px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">SN</th>
							<th class="w-64 px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Item</th>
							<th class="w-80 px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Description</th>
							<th class="w-22 px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Quantity</th>
							<th class="px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Unit Price</th>
							<th class="px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Discount</th>
							<th class="px-6 py-3 bg-gray-300 text-left text-xs font-medium text-gray-900 uppercase tracking-wider">Amount</th>
						</tr>
					</thead>
					<tbody class="bg-white divide-y divide-gray-200" id="orderTable">
						{% for orderDetail in orderDetails %}
						<tr class="h-2" id="defaultRow">
							<td class="px-6 w-1 py-4 whitespace-nowrap">{{ loop.index }}</td>
							<td class="px-6 w-64 py-4 whitespace-wrap sm:w-32">
								<input type="text" class="border-0" value="{{ orderDetail.Product.product_code }}" />
							</td>

							<td class="px-6 py-4 whitespace-nowrap" id="descriptionCell">
								<input disabled value="{{orderDetail.OrderDetails.product_description}}" />
							</td>

							<td class="px-6 py-4 whitespace-nowrap">
								<!-- <input type="number" class="quantity-input w-20 text-gray-900 bg-white rounded-lg border-none" name="item_quantity_1" id="item_quantity_1" onchange="calculateItemTotal(this.name)" value="{{orderDetail.OrderDetails.item_quantity}}" disabled/> -->
								<input type="number" class="quantity-input w-20 text-gray-900 bg-white rounded-lg border-none" value="{{orderDetail.OrderDetails.item_quantity}}" disabled />
							</td>
							<td class="px-6 py-4 whitespace-nowrap">
								<input type="text" class="quantity-input text-gray-900 bg-white rounded-lg w-20 border-none" disabled value="{{orderDetail.OrderDetails.unit_price}}" />
							</td>
							<td class="px-6 py-4 whitespace-nowrap">{% if orderDetail.OrderDetails.discount_type =='percentage' %} {{orderDetail.OrderDetails.discount_value}} % {% else %} $ {{orderDetail.OrderDetails.discount_value}} {% endif %}</td>
							<td class="px-6 py-4 whitespace-nowrap">
								<span class="ml-2">$</span>
								<input type="number" class="amount-input rounded-lg text-gray-900 bg-white w-28 border-none" disabled value="{{orderDetail.OrderDetails.subtotal_amount}}" />
							</td>
						</tr>
						{%endfor%}
					</tbody>
				</table>

				<div class="mx-8 float-right">
					<div>
						<table class="mr-28">
							<tr>
								<td>
									<span class="font-semibold">Subtotal </span>
								</td>
								<td>
									<span>$</span>
									<span>
										<input disabled type="text" class="w-24 text-gray-900 bg-white rounded-lg border-none" value="{{order.gross_cost}}" />
									</span>
								</td>
							</tr>
							<tr>
								<td>
									<span class="font-semibold mt-2">Discount</span>
								</td>
								<td>
									{% if order.discount_type=="percentage" %}
									<span>&nbsp;&nbsp;</span>
									<span> <input type="text" name="ship_total" class="w-16 text-gray-900 bg-white rounded-lg mb-2 h-[35px] border-none" value="{{order.discount_value}}" disabled /> % </span>
									{% else %}
									<span>$</span>
									<span>
										<input type="text" name="ship_total" class="w-24 text-gray-900 bg-white rounded-lg mb-2 h-[35px] border-none" value="{{order.discount_value}}" disabled />
									</span>
									{% endif %}
								</td>
							</tr>
							<tr>
								<td>
									<span class="font-semibold">Shipping</span>
								</td>
								<td>
									<span>$</span>
									<span>
										<input type="text" name="ship_total" class="w-24 text-gray-900 bg-white rounded-lg mb-2 h-[35px] border-none" value="{{order.shipping_cost}}" disabled />
									</span>
								</td>
							</tr>
							<tr>
								<td>
									<span class="font-semibold">Net Total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
								</td>
								<td>
									<span>$</span>
									<span>
										<input type="text" disabled name="net_total" class="w-24 text-gray-900 bg-white rounded-lg border-none" value="{{order.total_amount}}" />
									</span>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

{% endblock %}
